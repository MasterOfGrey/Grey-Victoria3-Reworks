ppp_building_power_grid = {
	building_group = usu_bg_power_grid
	icon = "gfx/interface/icons/building_icons/PPP_power_grid.dds"
	background = "gfx/interface/icons/building_icons/backgrounds/building_panel_bg_monuments.dds"
	ownership_type = self
	
	unlocking_technologies = { 
		PPP_tech_hv_power 
	}
	
	production_method_groups = {
		PPP_pmg_power_grid
		PPP_pmg_power_grid_scaler
		# pmg_ownership_capital_building_power_plant
	}
	
	required_construction = construction_cost_low
	
	possible = {
		OR = {
			state_has_building_type_levels = {
				target = bt:building_power_plant
				value  > 0
			}
			state_has_building_type_levels = {
				target = bt:usu_building_hydro_power_plant
				value  > 0
			}
			any_neighbouring_state = {
				owner ?= prev.owner
				state_has_building_type_levels = {
					target = bt:ppp_building_power_grid
					value  > 0
				}
			}
		}
	}
	
	ai_value = {		# scope is state the building is located in
		value = define:NAI|PRODUCTION_BUILDING_BASE_VALUE	# default value
		multiply = 3				# Quite important, and cheap to build
		multiply = {				# = 1 at base price, 1.9 at min hv price, 0.1 at max hv price
			add = 2
			subtract = mog_hvp_value
		}
		if = { # Get the grid started
			limit = {
				NOR = {
					has_building = ppp_building_power_grid
					any_scope_building = {
						is_building_type = ppp_building_power_grid
						is_under_construction = yes
					}
				}
			}
			add = 80000	# An *extremely* firm encouragement
		}
		# Not subsidised, so we don't need this, but this is what we'd use if we start having overbuild issues.
		#if = {
		#	limit = {
		#		exists = b:ppp_building_power_grid
		#		usu_calculate_building_good_ai_value_profit_adjustment = {
		#			building = ppp_building_power_grid
		#			good = electricity
		#		#	employees_per_level = 500 # DO NOT PASS UNUSED VALUES
		#			fallback_production = 300
		#		}
		#	}
		#	subtract = scope:result
		#}
	}
}

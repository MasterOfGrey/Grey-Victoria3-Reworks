# state scope
mog_usu_subfarm_infrastructure_update = {
	if = {
		limit = {
			has_modifier = mog_subfarm_modifiers_occupancy_scaled
		}
		remove_modifier = mog_subfarm_modifiers_occupancy_scaled
	}
	every_scope_building = {
		limit = {
			is_subsistence_building = yes
		}
		set_local_variable = {
			name = occupied_levels
			value = {
				value = occupancy
				multiply = level
			}
		}
		PREV = {
			add_modifier = {
				name = mog_subfarm_modifiers_occupancy_scaled
				multiplier = local_var:occupied_levels
			}
		}
	}
}
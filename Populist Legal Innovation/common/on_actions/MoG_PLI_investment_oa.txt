# Impacts on Investor Confidence
on_wargoal_added = {
	on_actions = {
	#	mog_pli_wargoal_confidence
	}
}

on_harvest_condition_started_in_country = {
	on_actions = {
	#	mog_pli_hc_confidence
	}
}

mog_pli_wargoal_confidence = {
	effect = {
		scope:actor = {
			je:je_mog_pli_investment = {
		#		set_bar_progress = {		<- This whole bit does not work, Ceasar help?
		#			value = {
		#				add = var:mog_pli_investment_current_value
		#				add = {
		#					add = 10
		#			#		multiply = {
		#			#			add = root.target.army_power_projection
		#			#			divide = scope:actor.army_power_projection
		#			#		}
		#				}
		#				min = 0
		#			}
		#			name = mog_pli_investment_tracking_bar
		#		}
			}
			set_variable = {	# Reset progress level variable after changing progress bar.
				name = mog_pli_investment_current_value
				value = "je:je_mog_pli_investment.scripted_bar_progress(mog_pli_investment_tracking_bar)"
			}
		}
	}
}

mog_pli_hc_confidence = {
	effect = {	# Root = country
		if = {
			limit = {
				scope:state.state_region = { harvest_condition_good = yes}
			}
			je:je_mog_pli_investment = {
				set_bar_progress = {
					value = {
						add = var:mog_pli_investment_current_value
						add = {
							add = 5
							multiply = {
								add = scope:intensity
							}
						}
						max = 100
					}
					name = mog_pli_investment_tracking_bar
				}
			}
			set_variable = {	# Reset progress level variable after changing progress bar.
				name = mog_pli_investment_current_value
				value = "je:je_mog_pli_investment.scripted_bar_progress(mog_pli_investment_tracking_bar)"
			}
		}
		else = {
			je:je_mog_pli_investment = {
				set_bar_progress = {
					value = {
						add = var:mog_pli_investment_current_value
						add = {
							add = -5
							multiply = {
								add = scope:intensity
							}
						}
						min = 0
					}
					name = mog_pli_investment_tracking_bar
				}
			}
			set_variable = {	# Reset progress level variable after changing progress bar.
				name = mog_pli_investment_current_value
				value = "je:je_mog_pli_investment.scripted_bar_progress(mog_pli_investment_tracking_bar)"
			}
		}
	}
}
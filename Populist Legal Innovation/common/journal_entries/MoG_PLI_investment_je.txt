je_mog_pli_investment = {
	icon = "gfx/interface/icons/event_icons/event_industry.dds"
	group = je_group_internal_affairs
	should_be_pinned_by_default = yes
	weight = 9000
	is_shown_when_inactive = { always = yes }
	possible = { always = yes }
	
	scripted_progress_bar = mog_pli_investment_tracking_bar
	scripted_progress_bar = mog_pli_corruption_tracking_bar
	immediate = {
		scope:journal_entry = {
			set_bar_progress = {					# Set starting condition *before* saving progress level to variable.
				value = root.mog_pli_investment_target
				name = mog_pli_investment_tracking_bar
			}
		}
		set_variable = {
			name = mog_pli_investment_current_value
			value = "je:je_mog_pli_investment.scripted_bar_progress(mog_pli_investment_tracking_bar)"
		}
		set_variable = {
			name = mog_pli_corruption_current_value
			value = "je:je_mog_pli_investment.scripted_bar_progress(mog_pli_corruption_tracking_bar)"
		}
		#set/initialize country/journal relevant variables
	}
	
	status_desc = {
	#	first_valid = {
	#		triggered_desc = {
	#			desc = je_mog_pli_investment_good
	#			trigger = {
	#				je:je_mog_pli_investment = {
	#					"scripted_bar_progress(mog_pli_investment_tracking_bar)" > 60
	#				}
	#			}
	#		}
	#		triggered_desc = {
	#			desc = je_mog_pli_investment_bad
	#			trigger = {
	#				je:je_mog_pli_investment = {
	#					"scripted_bar_progress(mog_pli_investment_tracking_bar)" < 40
	#				}
	#			}
	#		}
	#		triggered_desc = {
	#			desc = je_mog_pli_investment_neutral
	#			trigger = {
	#				always = yes
	#			}
	#		}
	#	}
	}

	on_weekly_pulse = {
		effect = {
			set_variable = {
				name = mog_pli_investment_current_value
				value = "je:je_mog_pli_investment.scripted_bar_progress(mog_pli_investment_tracking_bar)"
			}
			set_variable = {
				name = mog_pli_corruption_current_value
				value = "je:je_mog_pli_investment.scripted_bar_progress(mog_pli_corruption_tracking_bar)"
			}
			#set modifier from conditions
			MoG_PLI_do_investment_stuff_effect = yes
			scope:journal_entry = {
				#hidden_effect = {
				#	remove_modifier = je_mog_pli_investment_modifier
				#	remove_modifier = je_mog_pli_corruption_modifier
				#}
				#add_modifier = {
				#	name = je_mog_pli_investment_modifier
				#	days = -1
				#	multiplier = {
				#		value = {
				#			value = 50
				#			subtract = root.var:mog_pli_investment_current_value
				#			divide = 100
				#		}
				#		add = 1
				#	}
				#}
				#add_modifier = {
				#	name = je_mog_pli_corruption_modifier
				#	days = -1
				#	multiplier = {
				#		value = {
				#			value = root.var:mog_pli_corruption_current_value
				#			divide = 100
				#		}
				#	}
				#}
			}
		}
	}
}
# This is executed last among all history
# Doing this to avoid editing map_data or history files as much as possible as they need to be overridden in full
# Avoids a lot of headaches when updating after each patch
# If you are already editing the map you can remove this and just do all your changes in the respective files if you so desire
GLOBAL = {
	# State traits
	every_state = { # We have to do this because "has_state_trait" only works on state scopes, not state regions.
		## Put these last
		if = {
			limit = {
				is_cold_water_port = yes
				NOT = { has_state_trait = state_trait_cold_water_port }
			}
			state_region = { add_state_trait = state_trait_cold_water_port }
		}
		if = {
			limit = {
				is_difficult_terrain = yes
				NOT = { has_state_trait = state_trait_difficult_terrain }
			}
			state_region = { add_state_trait = state_trait_difficult_terrain }
		}
		if = {
			limit = {
				is_very_difficult_terrain = yes
				NOT = { has_state_trait = state_trait_very_difficult_terrain }
			}
			state_region = { add_state_trait = state_trait_very_difficult_terrain }
		}
	}
	
	# Interest Groups
	every_country = {
		limit = {
			OR = {
				has_law_or_variant = law_type:law_presidential_republic
				has_law_or_variant = law_type:law_parliamentary_republic
				has_law_or_variant = law_type:law_council_republic
			}
		}
		ig:ig_landowners ?= {
			remove_ideology = ideology_paternalistic
			add_ideology = ideology_republican_paternalistic
		}
	}
}